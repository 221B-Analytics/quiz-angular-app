<div class="container">

    <div class="text-center">
        <h2>Tasks</h2>
    </div>

    <div *ngIf="!isContentAvailable;then empty_content else content"></div>

    <ng-template #empty_content>
        <div class="text-center mt-3">
            <img src="assets/images/empty-task.png" height="250" class="rounded" alt="No tasks">
            <h2 class="mt-3">It's empty here</h2>
            <h6 class="mt-3 mb-3">
                Looks like you have not added any tasks yet.
                <br>
                Start by adding a new task.
            </h6>
            <app-add-task></app-add-task>
        </div>
    </ng-template>

    <ng-template #content>
        <div class="mt-3">
            <div class="card p-4 mb-3" *ngFor="let task of tasks$;">
                <div class="d-flex justify-content-between">
                    <ng-container *ngIf="!task?.isCompleted; else task_completed">
                        <span class="pt-2">{{task?.description}}</span>
                    </ng-container>
                    <ng-template #task_completed>
                        <s class="pt-2">{{task?.description}}</s>
                    </ng-template>
                    <div>
                        <button mat-icon-button aria-label="Complete task" (click)="handleTaskCompleted(task);"
                            *ngIf="!task?.isCompleted">
                            <mat-icon>check</mat-icon>
                        </button>
                        <button mat-icon-button aria-label="Delete task" (click)="handleDeleteClick(task?._id!);">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="floating-button-right">
            <button mat-mini-fab color="accent" matTooltip="Add a Task" aria-label="Icon button for add task"
                (click)="handleAddTask()">
                <mat-icon>add</mat-icon>
            </button>
        </div>
    </ng-template>

</div>